<!-- 
COMBINED VIEW SETTINGS - WITH SURROUNDING CONTEXT
=================================================

Look for this section in your Star_Map_Generator.html file:
-->

<!-- EXISTING CODE IN YOUR FILE (DO NOT COPY THIS PART) -->
<div class="settings-row">
    <label>Radius %:</label>
    <input type="number" id="circle-radius-percent" value="60" min="10" max="100">
</div>
<div class="settings-row">
    <label>Border (px):</label>
    <input type="number" id="border-width" value="15" min="0" max="50">
    <label>Color:</label>
    <input type="color" id="border-color" value="#FFD700">
</div>

<!-- ========== ADD THE FOLLOWING CODE RIGHT HERE (AFTER THE BORDER SETTINGS) ========== -->

<!-- Combined View Settings -->
<div class="settings-row" style="margin-top: 15px;">
    <div style="width: 100%; padding: 10px; background-color: #f8f9fa; border-radius: 5px;">
        <div style="font-weight: bold; margin-bottom: 10px; color: #333;">Combined View Options:</div>
        
        <!-- Overlap Control -->
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
            <label style="min-width: 120px;">Circle Overlap:</label>
            <input type="range" id="circle-overlap-percent" min="0" max="50" value="30" 
                   style="flex: 1; margin: 0 10px;">
            <span id="overlap-value" style="min-width: 40px; font-weight: bold;">30%</span>
        </div>
        
        <!-- Map Order Control -->
        <div style="display: flex; align-items: center; flex-wrap: wrap;">
            <label style="min-width: 120px;">Map Order:</label>
            <div style="display: flex; gap: 20px;">
                <label style="display: flex; align-items: center; cursor: pointer;">
                    <input type="radio" name="map-order" value="street-first" checked 
                           style="margin-right: 5px;">
                    Street Map First
                </label>
                <label style="display: flex; align-items: center; cursor: pointer;">
                    <input type="radio" name="map-order" value="star-first" 
                           style="margin-right: 5px;">
                    Star Map First
                </label>
            </div>
        </div>
        
        <div style="margin-top: 8px; font-size: 11px; color: #666; font-style: italic;">
            These settings apply to Combined (Landscape) and Combined (Portrait) views
        </div>
    </div>
</div>

<!-- ========== END OF NEW CODE ========== -->

<!-- EXISTING CODE THAT COMES AFTER (DO NOT COPY THIS PART) -->
<button class="collapsible" id="advanced-options-toggle">Advanced Options <span class="toggle-icon">â–¼</span></button>
<div class="collapsible-content" id="advanced-options-content">
    <!-- Advanced options content... -->
</div>


<!-- ================================================================ -->
<!-- ALSO ADD THIS JAVASCRIPT CODE -->
<!-- ================================================================ -->

<!-- Look for where your other scripts are, probably near the end of the file.
     You might see something like this: -->

<!-- EXISTING CODE (DO NOT COPY) -->
<script src="js/data-sync.js"></script>
<!-- Perfect Circle Fix Scripts -->
<script src="js/perfect-circle-calculator.js"></script>
<script src="js/canvas-drawing-utils.js"></script>
<script src="js/star-map-circle-fix.js"></script>
<script src="js/combined-views-fix.js"></script>
<script src="js/combined-views-map-order.js"></script>

<!-- ========== ADD THIS SCRIPT AFTER THE ABOVE SCRIPTS ========== -->

<script>
// Combined View Settings Handler
(function() {
    // Initialize settings
    window.combinedViewSettings = {
        overlapPercent: 30,
        streetMapFirst: true
    };
    
    // Wait for DOM
    document.addEventListener('DOMContentLoaded', function() {
        // Overlap slider
        const overlapSlider = document.getElementById('circle-overlap-percent');
        const overlapValue = document.getElementById('overlap-value');
        
        if (overlapSlider && overlapValue) {
            overlapSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                overlapValue.textContent = value + '%';
                window.combinedViewSettings.overlapPercent = value;
            });
        }
        
        // Map order radios
        const mapOrderRadios = document.querySelectorAll('input[name="map-order"]');
        mapOrderRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                window.combinedViewSettings.streetMapFirst = (this.value === 'street-first');
            });
        });
    });
})();
</script>

<!-- ========== END OF JAVASCRIPT ========== -->
